apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'
apply plugin: 'androidx.navigation.safeargs'
apply from: (project(':kotlinlibrary').projectDir.toString() + '/dependencies.gradle')
apply from: 'testDependencies.gradle'

android {
    compileSdkVersion compile_sdk_version
    buildToolsVersion build_tool_version
    dataBinding {
        enabled = true
    }

    defaultConfig {
        minSdkVersion min_sdk_version
        targetSdkVersion target_sdk_version
    }

    compileOptions {
        sourceCompatibility 1.8
        targetCompatibility 1.8
    }
    kotlinOptions {
        jvmTarget = '1.8'
    }
}

repositories {
    maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
}

dependencies {
    api deps.room.runtime
    api deps.room.ktx
    api deps.room.testing

    api deps.support.app_compat
    api deps.support.recyclerview
    api deps.support.design
    api deps.support.preference

    api deps.navigation.fragment_ktx
    api deps.navigation.ui_ktx
    api deps.dagger.android
    api deps.dagger.android_support
    api deps.kotlin.reflect

    api deps.anko
    api deps.core_ktx
    api deps.constraint_layout
    api deps.lifecycle.extensions
    api deps.lifecycle.livedat_ktx
    api deps.lifecycle.viewmodel_ktx
    api deps.lifecycle.viewmodel_savedstate
    api deps.paging_ktx
    api deps.timber
    api deps.picasso
    api deps.fragment_ktx
    /*[START] Retrofit */
    api deps.retrofit.runtime
    api deps.retrofit.gson
    api deps.retrofit.mock
    api deps.okhttp
    api deps.okhttp_logging_interceptor
    /*[END] Retrofit */
    /*[START] Leakanary */
    debugImplementation deps.leakcanary.debug
    debugImplementation deps.stetho
    //    implementation 'kim.jeonghyeon:kotlinlibrary:1.4.4'

}
repositories {
    mavenCentral()
}
//todo automate gradle task of 'clean build generatePom bintrayUpload'.
//todo find how to add source code and java doc

//apply from: 'publish.gradle'